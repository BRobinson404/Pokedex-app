let pokemonRepository=function(){let e=[],t=1;function n(t){e.push(t)}function i(){return e}function l(e){pokemonRepository.loadDetails(e).then(function(){o(e)})}function o(e){var t,n;let i=$(".modal-body"),l=$(".modal-title");l.empty(),i.empty();let o=$("<h1>"+e.name+"</h1>"),a=$('<img class="modal-img" style="width:50%">');a.attr("src",e.imageUrl);let s=$("<p>Height: "+e.height/10+"m</p>"),r,c,d,p,u=(t=e.types,d=document.createElement("p"),p="Types: ",t.forEach(e=>{p+=e.type.name+" "}),d.innerText=p,d),m=(n=e.abilities,r=document.createElement("p"),c="Abilities: ",n.forEach(e=>{c+=e.ability.name+" "}),r.innerText=c,r);l.append(o),i.append(a),i.append(s),i.append(u),i.append(m)}function a(){let e=document.getElementById("search-input"),t=e.value.toLowerCase();document.querySelectorAll(".list-group-item").forEach(function(n){let i=n.querySelector(".pokemon-button").innerText.toLowerCase(),l=document.querySelector(".pokemon-list");i.includes(t)?(l.classList.add("search-list"),n.style.display="inline-block"):n.style.display="none",e.value||l.classList.remove("search-list")})}function s(e){let t=(e-1)*150,n=150*e;document.querySelectorAll(".list-group-item").forEach(function(e,i){i<n&&i>=t?e.style.display="inline-block":e.style.display="none"})}document.getElementById("search-input").addEventListener("input",function(){a()});let r,c;r=document.getElementById("previous-button"),c=document.getElementById("next-button"),r.addEventListener("click",function e(){t>1&&s(--t)}),c.addEventListener("click",function n(){t<Math.ceil(e.length/150)&&s(++t)});let d;return d=document.querySelector("header"),window.addEventListener("scroll",function(){window.pageYOffset>0?d.classList.add("fixed-header"):d.classList.remove("fixed-header")}),{add:n,getAll:i,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let o=document.createElement("button");o.innerText=t.name,o.classList.add("btn-block"),o.classList.add("btn-primary"),o.classList.add("pokemon-button"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#exampleModal"),i.classList.add("col-xl-3"),i.classList.add("col-lg-4"),i.classList.add("col-md-6"),i.appendChild(o),n.appendChild(i),o.addEventListener("click",function(){l(t)})},showDetails:l,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=905").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types,t.abilities=e.abilities}).catch(function(e){console.error(e)})},showModal:o,searchPokemon:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});